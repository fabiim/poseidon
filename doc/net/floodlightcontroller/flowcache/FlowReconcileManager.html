<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_51) on Tue Aug 27 20:57:06 WEST 2013 -->
<TITLE>
FlowReconcileManager
</TITLE>

<META NAME="date" CONTENT="2013-08-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FlowReconcileManager";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FlowReconcileManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/floodlightcontroller/flowcache/FlowCacheQueryResp.html" title="class in net.floodlightcontroller.flowcache"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileMgrTest.html" title="class in net.floodlightcontroller.flowcache"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?net/floodlightcontroller/flowcache/FlowReconcileManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FlowReconcileManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.floodlightcontroller.flowcache</FONT>
<BR>
Class FlowReconcileManager</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>net.floodlightcontroller.flowcache.FlowReconcileManager</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.io.Serializable, <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html" title="interface in net.floodlightcontroller.core.module">IFloodlightModule</A>, <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>, <A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>FlowReconcileManager</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html" title="interface in net.floodlightcontroller.core.module">IFloodlightModule</A>, <A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></DL>
</PRE>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../serialized-form.html#net.floodlightcontroller.flowcache.FlowReconcileManager">Serialized Form</A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#controllerPktInCounterName">controllerPktInCounterName</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../net/floodlightcontroller/counter/ICounterStoreService.html" title="interface in net.floodlightcontroller.counter">ICounterStoreService</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#counterStore">counterStore</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#EnableConfigKey">EnableConfigKey</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Config to enable or disable flowReconcile</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#FLOW_RECONCILE_DELAY_MILLISEC">FLOW_RECONCILE_DELAY_MILLISEC</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start flow reconcile in 10ms after a new reconcile request is received.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;java.util.Queue&lt;<A HREF="../../../net/floodlightcontroller/flowcache/OFMatchReconcile.html" title="class in net.floodlightcontroller.flowcache">OFMatchReconcile</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#flowQueue">flowQueue</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A FIFO queue to keep all outstanding flows for reconciliation</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#flowReconcileEnabled">flowReconcileEnabled</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../net/floodlightcontroller/core/util/ListenerDispatcher.html" title="class in net.floodlightcontroller.core.util">ListenerDispatcher</A>&lt;<A HREF="../../../org/openflow/protocol/OFType.html" title="enum in org.openflow.protocol">OFType</A>,<A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileListener.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileListener</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#flowReconcileListeners">flowReconcileListeners</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The list of flow reconcile listeners that have registered to get
 flow reconcile callbacks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../net/floodlightcontroller/core/util/SingletonTask.html" title="class in net.floodlightcontroller.core.util">SingletonTask</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#flowReconcileTask">flowReconcileTask</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Asynchronous task to feed the flowReconcile pipeline</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.concurrent.atomic.AtomicInteger</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#flowReconcileThreadRunCount">flowReconcileThreadRunCount</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../net/floodlightcontroller/counter/SimpleCounter.html" title="class in net.floodlightcontroller.counter">SimpleCounter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#lastPacketInCounter">lastPacketInCounter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Date</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#lastReconcileTime">lastReconcileTime</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;org.slf4j.Logger</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#logger">logger</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The logger.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#MAX_SYSTEM_LOAD_PER_SECOND">MAX_SYSTEM_LOAD_PER_SECOND</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#MIN_FLOW_RECONCILE_PER_SECOND">MIN_FLOW_RECONCILE_PER_SECOND</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a minimum flow reconcile rate so that it won't stave</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../net/floodlightcontroller/threadpool/IThreadPoolService.html" title="interface in net.floodlightcontroller.threadpool">IThreadPoolService</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#threadPool">threadPool</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reference to dependent modules</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#FlowReconcileManager()">FlowReconcileManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#addFlowReconcileListener(net.floodlightcontroller.flowcache.IFlowReconcileListener)">addFlowReconcileListener</A></B>(<A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileListener.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a flow reconcile listener</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#clearFlowReconcileListeners()">clearFlowReconcileListeners</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove all flow reconcile listeners</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#doReconcile()">doReconcile</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Feed the flows into the flow reconciliation pipeline.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#flowQueryGenericHandler(net.floodlightcontroller.flowcache.FlowCacheQueryResp)">flowQueryGenericHandler</A></B>(<A HREF="../../../net/floodlightcontroller/flowcache/FlowCacheQueryResp.html" title="class in net.floodlightcontroller.flowcache">FlowCacheQueryResp</A>&nbsp;flowResp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generic flow query handler to insert FlowMods into the reconcile pipeline.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#getCurrentCapacity()">getCurrentCapacity</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compute the maximum number of flows to be reconciled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;java.lang.Class&lt;? extends <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#getModuleDependencies()">getModuleDependencies</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of Modules that this module depends on.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;java.lang.Class&lt;? extends <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#getModuleServices()">getModuleServices</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the list of interfaces that this module implements.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#getPktInRate(net.floodlightcontroller.counter.ICounter, java.util.Date)">getPktInRate</A></B>(<A HREF="../../../net/floodlightcontroller/counter/ICounter.html" title="interface in net.floodlightcontroller.counter">ICounter</A>&nbsp;newCnt,
             java.util.Date&nbsp;currentTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.Class&lt;? extends <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>&gt;,<A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#getServiceImpls()">getServiceImpls</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiate (as needed) and return objects that implement each
 of the services exported by this module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#init(net.floodlightcontroller.core.module.FloodlightModuleContext)">init</A></B>(<A HREF="../../../net/floodlightcontroller/core/module/FloodlightModuleContext.html" title="class in net.floodlightcontroller.core.module">FloodlightModuleContext</A>&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a hook for each module to do its <em>internal</em> initialization, 
 e.g., call setService(context.getService("Service"))
 
 All module dependencies are resolved when this is called, but not every module 
 is initialized.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#reconcileFlow(net.floodlightcontroller.flowcache.OFMatchReconcile)">reconcileFlow</A></B>(<A HREF="../../../net/floodlightcontroller/flowcache/OFMatchReconcile.html" title="class in net.floodlightcontroller.flowcache">OFMatchReconcile</A>&nbsp;ofmRcIn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add to-be-reconciled flow to the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#removeFlowReconcileListener(net.floodlightcontroller.flowcache.IFlowReconcileListener)">removeFlowReconcileListener</A></B>(<A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileListener.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a flow reconcile listener</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#startUp(net.floodlightcontroller.core.module.FloodlightModuleContext)">startUp</A></B>(<A HREF="../../../net/floodlightcontroller/core/module/FloodlightModuleContext.html" title="class in net.floodlightcontroller.core.module">FloodlightModuleContext</A>&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a hook for each module to do its <em>external</em> initializations,
 e.g., register for callbacks or query for state in other modules
 
 It is expected that this function will not block and that modules that want
 non-event driven CPU will spawn their own threads.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#updateFlowForDestinationDevice(net.floodlightcontroller.devicemanager.IDevice, net.floodlightcontroller.flowcache.IFlowQueryHandler, net.floodlightcontroller.flowcache.IFlowCacheService.FCQueryEvType)">updateFlowForDestinationDevice</A></B>(<A HREF="../../../net/floodlightcontroller/devicemanager/IDevice.html" title="interface in net.floodlightcontroller.devicemanager">IDevice</A>&nbsp;device,
                               <A HREF="../../../net/floodlightcontroller/flowcache/IFlowQueryHandler.html" title="interface in net.floodlightcontroller.flowcache">IFlowQueryHandler</A>&nbsp;handler,
                               <A HREF="../../../net/floodlightcontroller/flowcache/IFlowCacheService.FCQueryEvType.html" title="enum in net.floodlightcontroller.flowcache">IFlowCacheService.FCQueryEvType</A>&nbsp;fcEvType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the flows to a device after the device moved to a new location</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#updateFlowForSourceDevice(net.floodlightcontroller.devicemanager.IDevice, net.floodlightcontroller.flowcache.IFlowQueryHandler, net.floodlightcontroller.flowcache.IFlowCacheService.FCQueryEvType)">updateFlowForSourceDevice</A></B>(<A HREF="../../../net/floodlightcontroller/devicemanager/IDevice.html" title="interface in net.floodlightcontroller.devicemanager">IDevice</A>&nbsp;device,
                          <A HREF="../../../net/floodlightcontroller/flowcache/IFlowQueryHandler.html" title="interface in net.floodlightcontroller.flowcache">IFlowQueryHandler</A>&nbsp;handler,
                          <A HREF="../../../net/floodlightcontroller/flowcache/IFlowCacheService.FCQueryEvType.html" title="enum in net.floodlightcontroller.flowcache">IFlowCacheService.FCQueryEvType</A>&nbsp;fcEvType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the flows from a device</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileManager.html#updateFlush()">updateFlush</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="logger"><!-- --></A><H3>
logger</H3>
<PRE>
private static org.slf4j.Logger <B>logger</B></PRE>
<DL>
<DD>The logger.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="threadPool"><!-- --></A><H3>
threadPool</H3>
<PRE>
protected <A HREF="../../../net/floodlightcontroller/threadpool/IThreadPoolService.html" title="interface in net.floodlightcontroller.threadpool">IThreadPoolService</A> <B>threadPool</B></PRE>
<DL>
<DD>Reference to dependent modules
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="counterStore"><!-- --></A><H3>
counterStore</H3>
<PRE>
protected <A HREF="../../../net/floodlightcontroller/counter/ICounterStoreService.html" title="interface in net.floodlightcontroller.counter">ICounterStoreService</A> <B>counterStore</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="flowReconcileListeners"><!-- --></A><H3>
flowReconcileListeners</H3>
<PRE>
protected <A HREF="../../../net/floodlightcontroller/core/util/ListenerDispatcher.html" title="class in net.floodlightcontroller.core.util">ListenerDispatcher</A>&lt;<A HREF="../../../org/openflow/protocol/OFType.html" title="enum in org.openflow.protocol">OFType</A>,<A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileListener.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileListener</A>&gt; <B>flowReconcileListeners</B></PRE>
<DL>
<DD>The list of flow reconcile listeners that have registered to get
 flow reconcile callbacks. Such callbacks are invoked, for example, when
 a switch with existing flow-mods joins this controller and those flows
 need to be reconciled with the current configuration of the controller.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="flowQueue"><!-- --></A><H3>
flowQueue</H3>
<PRE>
java.util.Queue&lt;<A HREF="../../../net/floodlightcontroller/flowcache/OFMatchReconcile.html" title="class in net.floodlightcontroller.flowcache">OFMatchReconcile</A>&gt; <B>flowQueue</B></PRE>
<DL>
<DD>A FIFO queue to keep all outstanding flows for reconciliation
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="flowReconcileTask"><!-- --></A><H3>
flowReconcileTask</H3>
<PRE>
protected <A HREF="../../../net/floodlightcontroller/core/util/SingletonTask.html" title="class in net.floodlightcontroller.core.util">SingletonTask</A> <B>flowReconcileTask</B></PRE>
<DL>
<DD>Asynchronous task to feed the flowReconcile pipeline
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="controllerPktInCounterName"><!-- --></A><H3>
controllerPktInCounterName</H3>
<PRE>
java.lang.String <B>controllerPktInCounterName</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="lastPacketInCounter"><!-- --></A><H3>
lastPacketInCounter</H3>
<PRE>
protected <A HREF="../../../net/floodlightcontroller/counter/SimpleCounter.html" title="class in net.floodlightcontroller.counter">SimpleCounter</A> <B>lastPacketInCounter</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="MAX_SYSTEM_LOAD_PER_SECOND"><!-- --></A><H3>
MAX_SYSTEM_LOAD_PER_SECOND</H3>
<PRE>
protected static int <B>MAX_SYSTEM_LOAD_PER_SECOND</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="MIN_FLOW_RECONCILE_PER_SECOND"><!-- --></A><H3>
MIN_FLOW_RECONCILE_PER_SECOND</H3>
<PRE>
protected static int <B>MIN_FLOW_RECONCILE_PER_SECOND</B></PRE>
<DL>
<DD>a minimum flow reconcile rate so that it won't stave
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="FLOW_RECONCILE_DELAY_MILLISEC"><!-- --></A><H3>
FLOW_RECONCILE_DELAY_MILLISEC</H3>
<PRE>
protected static int <B>FLOW_RECONCILE_DELAY_MILLISEC</B></PRE>
<DL>
<DD>start flow reconcile in 10ms after a new reconcile request is received.
  The max delay is 1 second.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="lastReconcileTime"><!-- --></A><H3>
lastReconcileTime</H3>
<PRE>
protected java.util.Date <B>lastReconcileTime</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="EnableConfigKey"><!-- --></A><H3>
EnableConfigKey</H3>
<PRE>
protected static final java.lang.String <B>EnableConfigKey</B></PRE>
<DL>
<DD>Config to enable or disable flowReconcile
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#net.floodlightcontroller.flowcache.FlowReconcileManager.EnableConfigKey">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="flowReconcileEnabled"><!-- --></A><H3>
flowReconcileEnabled</H3>
<PRE>
protected boolean <B>flowReconcileEnabled</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="flowReconcileThreadRunCount"><!-- --></A><H3>
flowReconcileThreadRunCount</H3>
<PRE>
public java.util.concurrent.atomic.AtomicInteger <B>flowReconcileThreadRunCount</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FlowReconcileManager()"><!-- --></A><H3>
FlowReconcileManager</H3>
<PRE>
public <B>FlowReconcileManager</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addFlowReconcileListener(net.floodlightcontroller.flowcache.IFlowReconcileListener)"><!-- --></A><H3>
addFlowReconcileListener</H3>
<PRE>
public void <B>addFlowReconcileListener</B>(<A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileListener.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileListener</A>&nbsp;listener)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#addFlowReconcileListener(net.floodlightcontroller.flowcache.IFlowReconcileListener)">IFlowReconcileService</A></CODE></B></DD>
<DD>Add a flow reconcile listener
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#addFlowReconcileListener(net.floodlightcontroller.flowcache.IFlowReconcileListener)">addFlowReconcileListener</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - The module that can reconcile flows</DL>
</DD>
</DL>
<HR>

<A NAME="removeFlowReconcileListener(net.floodlightcontroller.flowcache.IFlowReconcileListener)"><!-- --></A><H3>
removeFlowReconcileListener</H3>
<PRE>
public void <B>removeFlowReconcileListener</B>(<A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileListener.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileListener</A>&nbsp;listener)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#removeFlowReconcileListener(net.floodlightcontroller.flowcache.IFlowReconcileListener)">IFlowReconcileService</A></CODE></B></DD>
<DD>Remove a flow reconcile listener
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#removeFlowReconcileListener(net.floodlightcontroller.flowcache.IFlowReconcileListener)">removeFlowReconcileListener</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - The module that no longer reconcile flows</DL>
</DD>
</DL>
<HR>

<A NAME="clearFlowReconcileListeners()"><!-- --></A><H3>
clearFlowReconcileListeners</H3>
<PRE>
public void <B>clearFlowReconcileListeners</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#clearFlowReconcileListeners()">IFlowReconcileService</A></CODE></B></DD>
<DD>Remove all flow reconcile listeners
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#clearFlowReconcileListeners()">clearFlowReconcileListeners</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="reconcileFlow(net.floodlightcontroller.flowcache.OFMatchReconcile)"><!-- --></A><H3>
reconcileFlow</H3>
<PRE>
public void <B>reconcileFlow</B>(<A HREF="../../../net/floodlightcontroller/flowcache/OFMatchReconcile.html" title="class in net.floodlightcontroller.flowcache">OFMatchReconcile</A>&nbsp;ofmRcIn)</PRE>
<DL>
<DD>Add to-be-reconciled flow to the queue.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#reconcileFlow(net.floodlightcontroller.flowcache.OFMatchReconcile)">reconcileFlow</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ofmRcIn</CODE> - the ofm rc in</DL>
</DD>
</DL>
<HR>

<A NAME="updateFlowForDestinationDevice(net.floodlightcontroller.devicemanager.IDevice, net.floodlightcontroller.flowcache.IFlowQueryHandler, net.floodlightcontroller.flowcache.IFlowCacheService.FCQueryEvType)"><!-- --></A><H3>
updateFlowForDestinationDevice</H3>
<PRE>
public void <B>updateFlowForDestinationDevice</B>(<A HREF="../../../net/floodlightcontroller/devicemanager/IDevice.html" title="interface in net.floodlightcontroller.devicemanager">IDevice</A>&nbsp;device,
                                           <A HREF="../../../net/floodlightcontroller/flowcache/IFlowQueryHandler.html" title="interface in net.floodlightcontroller.flowcache">IFlowQueryHandler</A>&nbsp;handler,
                                           <A HREF="../../../net/floodlightcontroller/flowcache/IFlowCacheService.FCQueryEvType.html" title="enum in net.floodlightcontroller.flowcache">IFlowCacheService.FCQueryEvType</A>&nbsp;fcEvType)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#updateFlowForDestinationDevice(net.floodlightcontroller.devicemanager.IDevice, net.floodlightcontroller.flowcache.IFlowQueryHandler, net.floodlightcontroller.flowcache.IFlowCacheService.FCQueryEvType)">IFlowReconcileService</A></CODE></B></DD>
<DD>Updates the flows to a device after the device moved to a new location
 <p>
 Queries the flow-cache to get all the flows destined to the given device.
 Reconciles each of these flows by potentially reprogramming them to its
 new attachment point
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#updateFlowForDestinationDevice(net.floodlightcontroller.devicemanager.IDevice, net.floodlightcontroller.flowcache.IFlowQueryHandler, net.floodlightcontroller.flowcache.IFlowCacheService.FCQueryEvType)">updateFlowForDestinationDevice</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>device</CODE> - device that has moved<DD><CODE>handler</CODE> - handler to process the flows<DD><CODE>fcEvType</CODE> - Event type that triggered the update</DL>
</DD>
</DL>
<HR>

<A NAME="updateFlowForSourceDevice(net.floodlightcontroller.devicemanager.IDevice, net.floodlightcontroller.flowcache.IFlowQueryHandler, net.floodlightcontroller.flowcache.IFlowCacheService.FCQueryEvType)"><!-- --></A><H3>
updateFlowForSourceDevice</H3>
<PRE>
public void <B>updateFlowForSourceDevice</B>(<A HREF="../../../net/floodlightcontroller/devicemanager/IDevice.html" title="interface in net.floodlightcontroller.devicemanager">IDevice</A>&nbsp;device,
                                      <A HREF="../../../net/floodlightcontroller/flowcache/IFlowQueryHandler.html" title="interface in net.floodlightcontroller.flowcache">IFlowQueryHandler</A>&nbsp;handler,
                                      <A HREF="../../../net/floodlightcontroller/flowcache/IFlowCacheService.FCQueryEvType.html" title="enum in net.floodlightcontroller.flowcache">IFlowCacheService.FCQueryEvType</A>&nbsp;fcEvType)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#updateFlowForSourceDevice(net.floodlightcontroller.devicemanager.IDevice, net.floodlightcontroller.flowcache.IFlowQueryHandler, net.floodlightcontroller.flowcache.IFlowCacheService.FCQueryEvType)">IFlowReconcileService</A></CODE></B></DD>
<DD>Updates the flows from a device
 <p>
 Queries the flow-cache to get all the flows source from the given device.
 Reconciles each of these flows by potentially reprogramming them to its
 new attachment point
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#updateFlowForSourceDevice(net.floodlightcontroller.devicemanager.IDevice, net.floodlightcontroller.flowcache.IFlowQueryHandler, net.floodlightcontroller.flowcache.IFlowCacheService.FCQueryEvType)">updateFlowForSourceDevice</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>device</CODE> - device where the flow originates<DD><CODE>handler</CODE> - handler to process the flows<DD><CODE>fcEvType</CODE> - Event type that triggered the update</DL>
</DD>
</DL>
<HR>

<A NAME="flowQueryGenericHandler(net.floodlightcontroller.flowcache.FlowCacheQueryResp)"><!-- --></A><H3>
flowQueryGenericHandler</H3>
<PRE>
public void <B>flowQueryGenericHandler</B>(<A HREF="../../../net/floodlightcontroller/flowcache/FlowCacheQueryResp.html" title="class in net.floodlightcontroller.flowcache">FlowCacheQueryResp</A>&nbsp;flowResp)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#flowQueryGenericHandler(net.floodlightcontroller.flowcache.FlowCacheQueryResp)">IFlowReconcileService</A></CODE></B></DD>
<DD>Generic flow query handler to insert FlowMods into the reconcile pipeline.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html#flowQueryGenericHandler(net.floodlightcontroller.flowcache.FlowCacheQueryResp)">flowQueryGenericHandler</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/flowcache/IFlowReconcileService.html" title="interface in net.floodlightcontroller.flowcache">IFlowReconcileService</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getModuleServices()"><!-- --></A><H3>
getModuleServices</H3>
<PRE>
public java.util.Collection&lt;java.lang.Class&lt;? extends <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>&gt;&gt; <B>getModuleServices</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#getModuleServices()">IFloodlightModule</A></CODE></B></DD>
<DD>Return the list of interfaces that this module implements.
 All interfaces must inherit IFloodlightService
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#getModuleServices()">getModuleServices</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html" title="interface in net.floodlightcontroller.core.module">IFloodlightModule</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getServiceImpls()"><!-- --></A><H3>
getServiceImpls</H3>
<PRE>
public java.util.Map&lt;java.lang.Class&lt;? extends <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>&gt;,<A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>&gt; <B>getServiceImpls</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#getServiceImpls()">IFloodlightModule</A></CODE></B></DD>
<DD>Instantiate (as needed) and return objects that implement each
 of the services exported by this module.  The map returned maps
 the implemented service to the object.  The object could be the
 same object or different objects for different exported services.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#getServiceImpls()">getServiceImpls</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html" title="interface in net.floodlightcontroller.core.module">IFloodlightModule</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The map from service interface class to service implementation</DL>
</DD>
</DL>
<HR>

<A NAME="getModuleDependencies()"><!-- --></A><H3>
getModuleDependencies</H3>
<PRE>
public java.util.Collection&lt;java.lang.Class&lt;? extends <A HREF="../../../net/floodlightcontroller/core/module/IFloodlightService.html" title="interface in net.floodlightcontroller.core.module">IFloodlightService</A>&gt;&gt; <B>getModuleDependencies</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#getModuleDependencies()">IFloodlightModule</A></CODE></B></DD>
<DD>Get a list of Modules that this module depends on.  The module system
 will ensure that each these dependencies is resolved before the 
 subsequent calls to init().
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#getModuleDependencies()">getModuleDependencies</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html" title="interface in net.floodlightcontroller.core.module">IFloodlightModule</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The Collection of IFloodlightServices that this module depends
         on.</DL>
</DD>
</DL>
<HR>

<A NAME="init(net.floodlightcontroller.core.module.FloodlightModuleContext)"><!-- --></A><H3>
init</H3>
<PRE>
public void <B>init</B>(<A HREF="../../../net/floodlightcontroller/core/module/FloodlightModuleContext.html" title="class in net.floodlightcontroller.core.module">FloodlightModuleContext</A>&nbsp;context)
          throws <A HREF="../../../net/floodlightcontroller/core/module/FloodlightModuleException.html" title="class in net.floodlightcontroller.core.module">FloodlightModuleException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#init(net.floodlightcontroller.core.module.FloodlightModuleContext)">IFloodlightModule</A></CODE></B></DD>
<DD>This is a hook for each module to do its <em>internal</em> initialization, 
 e.g., call setService(context.getService("Service"))
 
 All module dependencies are resolved when this is called, but not every module 
 is initialized.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#init(net.floodlightcontroller.core.module.FloodlightModuleContext)">init</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html" title="interface in net.floodlightcontroller.core.module">IFloodlightModule</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../net/floodlightcontroller/core/module/FloodlightModuleException.html" title="class in net.floodlightcontroller.core.module">FloodlightModuleException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="startUp(net.floodlightcontroller.core.module.FloodlightModuleContext)"><!-- --></A><H3>
startUp</H3>
<PRE>
public void <B>startUp</B>(<A HREF="../../../net/floodlightcontroller/core/module/FloodlightModuleContext.html" title="class in net.floodlightcontroller.core.module">FloodlightModuleContext</A>&nbsp;context)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#startUp(net.floodlightcontroller.core.module.FloodlightModuleContext)">IFloodlightModule</A></CODE></B></DD>
<DD>This is a hook for each module to do its <em>external</em> initializations,
 e.g., register for callbacks or query for state in other modules
 
 It is expected that this function will not block and that modules that want
 non-event driven CPU will spawn their own threads.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html#startUp(net.floodlightcontroller.core.module.FloodlightModuleContext)">startUp</A></CODE> in interface <CODE><A HREF="../../../net/floodlightcontroller/core/module/IFloodlightModule.html" title="interface in net.floodlightcontroller.core.module">IFloodlightModule</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="updateFlush()"><!-- --></A><H3>
updateFlush</H3>
<PRE>
protected void <B>updateFlush</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="doReconcile()"><!-- --></A><H3>
doReconcile</H3>
<PRE>
protected boolean <B>doReconcile</B>()</PRE>
<DL>
<DD>Feed the flows into the flow reconciliation pipeline.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if more flows to be reconciled
         false if no more flows to be reconciled.</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentCapacity()"><!-- --></A><H3>
getCurrentCapacity</H3>
<PRE>
protected int <B>getCurrentCapacity</B>()</PRE>
<DL>
<DD>Compute the maximum number of flows to be reconciled.
 
 It computes the packetIn increment from the counter values in
 the counter store;
 Then computes the rate based on the elapsed time
 from the last query;
 Then compute the max flow reconcile rate by subtracting the packetIn
 rate from the hard-coded max system rate.
 If the system rate is reached or less than MIN_FLOW_RECONCILE_PER_SECOND,
 set the maximum flow reconcile rate to the MIN_FLOW_RECONCILE_PER_SECOND
 to prevent starvation.
 Then convert the rate to an absolute number for the
 FLOW_RECONCILE_PERIOD.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getPktInRate(net.floodlightcontroller.counter.ICounter, java.util.Date)"><!-- --></A><H3>
getPktInRate</H3>
<PRE>
protected int <B>getPktInRate</B>(<A HREF="../../../net/floodlightcontroller/counter/ICounter.html" title="interface in net.floodlightcontroller.counter">ICounter</A>&nbsp;newCnt,
                           java.util.Date&nbsp;currentTime)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FlowReconcileManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/floodlightcontroller/flowcache/FlowCacheQueryResp.html" title="class in net.floodlightcontroller.flowcache"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/floodlightcontroller/flowcache/FlowReconcileMgrTest.html" title="class in net.floodlightcontroller.flowcache"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?net/floodlightcontroller/flowcache/FlowReconcileManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FlowReconcileManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
